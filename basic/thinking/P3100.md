考虑倒着做，每次把一个正方形里的字符全部标记成一个万能字符 `.`，前提是正方形中字符除了万能字符 `.` 全部相同。

显然答案为可行的最大的选择的最小正方形，于是每次贪心地取出最大的可选矩阵即可。

时间复杂度 $O(n^2m^2)$。
