考虑一个数列是符合题意的等差数列的充要条件（不考虑公差为 $0$ 或者长度为 $1$ 的特殊情况）：

- 数列中所有数互不相同；
- 所有数的最大公约数正好为公差；
- 最大值和最小值的差正好为公差的长度 $-1$ 倍。

正确性容易证明。

均可用线段树维护，最大公约数可以差分后线段树维护，互不相同可以对每个值建 `std::set` 维护与每个位置相等的前驱位置。注意判断两种特殊情况。

时间复杂度 $O((n + m) \log n)$。
