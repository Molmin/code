用高维前缀和预处理出包含一些二进制位的数的最小编号以及最大的两个编号。

这时候我们枚举 $a_i$ 和 $a_j\operatorname{and}a_k$ 的值并更新答案即可。

这样做是 $\Theta(n\max v)$ 的，考虑优化，贪心从高位到低位，判断是否能加入答案即可，时间复杂度 $\Theta(n\log v)$。
