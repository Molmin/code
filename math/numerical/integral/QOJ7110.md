<!-- statement.start -->

有一辆半径为 $r$ 的形状为圆形的车在平面直角坐标系的 $(0,0)$ 处。一个半径也为 $r$ 的圆形障碍物在平面直角坐标系的 $(0,2r)$ 处，并以每秒 $v$ 个单位的速度向 x 轴正半轴移动，车的速度上限是障碍物的两倍即 $2v$，问要多少时间可以到达目标点 $(d,0)$。过程中车不能和障碍物相交（但可以相切）。

数据组数 $T\leq 10^3$，$1\leq v,r\leq 100$，$1\leq d\leq 100$。

<!-- statement.end -->

分两种情况，如果不超过障碍物，则速度上限为 $v$，用时直接计算。

否则考虑二分答案，设时间为 $t$。把问题转化为障碍物不动的情况，变为一个点从 $(0,0)$ 到 $T(d-vt,0)$，不能经过以 $(2r,0)$ 为原心半径为 $2r$ 的圆形区域的最短路，每一时刻的速度 $(x,y)$ 要满足 $(x+v)^2+y^2\leq 4v^2$。

容易发现此时我们走的路线一定是从 $T$ 向障碍区域的圆形引一条切线，然后先走到切点再走切线。

若一个时刻车成 $\theta$ 的夹角，则由速度的限制知这个时刻的速度 $v_0=kv$ 必须满足 $(v_0\sin\theta+v)^2+(v_0\cos\theta)^2\leq 4v^2$，化简可得 $(k\sin\theta+1)^2+k^2\cos^2\theta=4$，解得 $k=\sqrt{\sin^2\theta+3}-\sin\theta$。

设 $\alpha$ 表示切点对应的角度，$f(\theta)$ 表示此时的速度，即 $f(\theta)=v\sqrt{\sin^2\theta+3}-v\sin\theta$。则总用时最小值为 $\int\limits_0^\alpha\dfrac{4r}{f(\theta)}\text{d}\theta$ 加上线段部分的用时。自适应 Simpson 积分解决即可。
