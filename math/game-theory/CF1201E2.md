对格子进行二间隔染色。

首先观察吃子这一操作，有如下发现：

- 当双方初始位置同色时，每次轮到白方走时双方位置都同色，所以只有黑方可以吃白方；
- 当双方初始位置异色时，每次轮到黑方走时双方位置都同色，所以只有白方可以吃黑方。

两种情况相似，所以下面只介绍第一种情况的做法，第二种情况同理。

同时我们需要发现一个重要性质：**双方的目标格之间的距离（指的是走马步的最少步数，下同）为 $3$。**

下面进行分析。当只有黑方能吃白方时，白方必胜的充要条件就是直接走向终点且能保证不被吃掉。容易发现白方能被黑方吃掉的充要条件是黑方能领先白方到达白方的目标格子。黑方到达白方目标格子时，双方位置同色，所以距离至少为 $2$，下一步白方走，距离只能变成 $1$ 或 $3$，若变成 $1$ 则黑方可以直接吃掉白方，否则，黑方只需要在 $3$ 步之内直接走向自己的目标格即可。

根据上述分析，下面对第一种情况的分类进行总结：

- 若黑方能比白方更快到达自己的目标，就直接走向目标，由于白方不能吃黑方，所以黑方必胜；
- 若黑方能比白方更快到达白方的目标，就走向白方的目标，然后根据白方反应做出吃掉白方或者用 $3$ 步走到自己目标的决定，黑方必胜；
- 否则，白方直接走向自己的目标，黑方能胜的情况已被前两种情况排除，所以白方必胜。

第二种情况同理。实现细节上：

- 用 `bfs` 求出黑白初始位置到黑白目标位置两两之间的距离和路径；
- 注意交互细节，例如若选择黑方先手要先读入一次白方的坐标，若能吃掉对方就直接吃掉并结束程序；
- 注意每一处步数的比较是否取等都需要仔细思考。

时间复杂度 $O(nm)$。
